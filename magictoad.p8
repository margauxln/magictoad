pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- magictoad
-- by manocle
function _init()
x=30
y=60
w=1
h=1

cam_x=0
cam_y=0
ex=50
ey=34
ew=8
eh=8

newx=x
newy=y

end
function _update()
if (btn(1)) newx=x+1
if (btn(0) and x>10) newx=x-1
if (btn(3) and y<82) newy=y+1
if (btn(2) and y>10) newy=y-1
if not box_hit(
	x,y,w,h,ex,ey,ew,eh) then
	y=newy
	end
if not box_hit(
	newx,y,w,h,ex,ey,ew,ew,eh) then
	x=newx
	end
	
end
function _draw()
cls()
if x>60 then cam_x=x-40 else cam_x=0
end
camera(cam_x,cam_y)
map(0,0,10,10)
spr(1,x,y)
print(x,1,1,7)
print(y,1,10,7)
end
-->8
function box_hit(
  x1,y1,
  w1,h1,
  x2,y2,
  w2,h2)
  
  hit=false
  local xd=abs((x1+(w1/2))-(x2+(w2/2)))
  local xs=w1*0.5+w2*0.5
  local yd=abs((y1+(h1/2))-(y2+(h2/2)))
  local ys=h1/2+h2/2
  if xd<xs and 
     yd<ys then 
    hit=true 
  end
  
  return hit
end
__gfx__
0000000077977977bbbbb8bb33333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000077799777bbbbbbbb33bb3333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070079777797b8bbbbbb3bbbb333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700077877877bbbb8bbbbbbbb333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700077777777bbbbbbbbbbbbb333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070077d77d77bbbbbb8b3b4b3333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777dd777bb8bbbbb33433333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000077777777bbbbbbbb33433333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000033b3b3b30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003b9bbb330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000033bbb9b30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003b9bbb330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000033b44b330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333443330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333443330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020302020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020241414141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
